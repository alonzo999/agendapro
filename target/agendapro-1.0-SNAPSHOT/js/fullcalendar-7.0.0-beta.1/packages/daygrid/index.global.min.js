/*!
FullCalendar Day Grid Plugin v7.0.0-beta.1
Docs & License: https://fullcalendar.io/docs/month-view
(c) 2024 Adam Shaw
*/
FullCalendar.DayGrid=function(e,t,r,n){"use strict";class i extends r.Slicer{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(e,t){return t.sliceRange(e)}}function a(e){return e.text}function s(e,t){let n=new r.DaySeriesModel(e.renderRange,t);return new r.DayTableModel(n,/year|month|week/.test(e.currentRangeUnit))}function l(e,t,r){if(null==r)return[void 0,void 0];return r/e<t?[t*e,t]:[r,void 0]}function o(e,t){return[t?e.map(e=>({colSpan:1,date:e})):e.map(e=>({colSpan:1,dow:e.getUTCDay()}))]}function d(e,t,n,i){let a,s,l;if(null!=t)l=(e.lastCol-e.firstCol+1)*t,i?s=e.firstCol*t:a=e.firstCol*t;else{const t=1/n;l=r.fracToCssDim((e.lastCol-e.firstCol+1)*t),i?s=r.fracToCssDim(e.firstCol*t):a=r.fracToCssDim(e.firstCol*t)}return{left:a,right:s,width:l}}function c(e,t,r,n,i){const a=null!=r?r:t/n,s=Math.floor(e/a),l=s*a;return{col:i?n-s-1:s,left:l,right:l+a}}function h(e,t){return e.querySelectorAll(":scope > [role=row]")[t]}function g(e,t){return e.querySelectorAll(":scope > [role=gridcell]")[t]}class f extends r.BaseComponent{constructor(){super(...arguments),this.innerElRef=n.createRef()}render(){let{props:e,context:t}=this,{dateProfile:i,date:s,extraRenderProps:l,extraDataAttrs:o}=e,{dateEnv:d,options:c,theme:h,viewApi:g}=t,f=r.getDateMeta(s,e.todayRange,null,i),u=d.format(s,e.dayHeaderFormat),p=!f.isDisabled&&e.navLink?r.buildNavLinkAttrs(t,s):{},m=Object.assign(Object.assign(Object.assign({date:d.toDate(s),view:g},l),{text:u}),f);return n.createElement(r.ContentContainer,{elTag:"div",elClasses:[...r.getDayClassNames(f,h),...e.extraClassNames||[],"fc-header-cell","fc-cell",null!=e.colWidth?"":"fc-liquid","fc-flex-column","fc-align-center"],elAttrs:Object.assign({"data-date":f.isDisabled?void 0:r.formatDayString(s)},o),elStyle:{width:null!=e.colWidth?e.colWidth*(e.colSpan||1):void 0},renderProps:m,generatorName:"dayHeaderContent",customGenerator:c.dayHeaderContent,defaultGenerator:a,classNameGenerator:c.dayHeaderClassNames,didMount:c.dayHeaderDidMount,willUnmount:c.dayHeaderWillUnmount},t=>n.createElement("div",{ref:this.innerElRef,className:["fc-flex-column",e.isSticky?"fc-sticky-x":""].join(" ")},!f.isDisabled&&n.createElement(t,{elTag:"a",elAttrs:p,elClasses:["fc-cell-inner","fc-padding-sm"]})))}componentDidMount(){const e=this.innerElRef.current;this.disconectInnerHeight=r.watchHeight(e,e=>{r.setRef(this.props.innerHeightRef,e)})}componentWillUnmount(){this.disconectInnerHeight(),r.setRef(this.props.innerHeightRef,null)}}function u(e,t){const r=[];for(let e=0;e<t;e++)r[e]=[];for(const t of e)r[t.row].push(t);return r}function p(e,t){const r=[];if(e){for(let n=0;n<t;n++)r[n]={affectedInstances:e.affectedInstances,isEvent:e.isEvent,segs:[]};for(const t of e.segs)r[t.row].segs.push(t)}else for(let e=0;e<t;e++)r[e]=null;return r}function m(e,t){let r=[];for(let e=0;e<t;e++)r.push([]);for(let t of e)for(let e=t.firstCol;e<=t.lastCol;e++)t.firstCol!==e&&(t=Object.assign(Object.assign({},t),{firstCol:e,lastCol:e,isStart:!1,isEnd:t.isEnd&&t.lastCol===e,isStandin:!0})),r[e].push(t);return r}const y=r.createFormatter({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function v(e){let{display:t}=e.eventRange.ui;return"list-item"===t||"auto"===t&&!e.eventRange.def.allDay&&e.firstCol===e.lastCol&&e.isStart&&e.isEnd}class R extends r.BaseComponent{render(){let{props:e}=this;return n.createElement(r.StandardEvent,Object.assign({},e,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:y,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.eventRange.def.allDay}))}}class S extends r.BaseComponent{render(){let{props:e,context:t}=this,{options:i}=t,{eventRange:a}=e,s=i.eventTimeFormat||y,l=r.buildEventRangeTimeText(a,s,t,!0,e.defaultDisplayEventEnd);return n.createElement(r.EventContainer,Object.assign({},e,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:r.getEventRangeAnchorAttrs(a,t),defaultGenerator:E,timeText:l,isResizing:!1,isDateSelecting:!1}))}}function E(e){return n.createElement(n.Fragment,null,n.createElement("div",{className:"fc-daygrid-event-dot",style:{borderColor:e.borderColor||e.backgroundColor}}),e.timeText&&n.createElement("div",{className:"fc-event-time"},e.timeText),n.createElement("div",{className:"fc-event-title"},e.event.title||n.createElement(n.Fragment,null," ")))}class b extends r.BaseComponent{render(){let{props:e}=this;return n.createElement(r.MoreLinkContainer,{elClasses:["fc-daygrid-more-link"],dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,segs:e.segs,hiddenSegs:e.hiddenSegs,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:()=>{let t=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return n.createElement(n.Fragment,null,e.segs.map(i=>{let{eventRange:a}=i,s=a.instance.instanceId;return n.createElement("div",{key:s,style:{visibility:t[s]?"hidden":""}},v(i)?n.createElement(S,Object.assign({eventRange:a,isStart:i.isStart,isEnd:i.isEnd,isDragging:!1,isSelected:s===e.eventSelection,defaultDisplayEventEnd:!1},r.getEventRangeMeta(a,e.todayRange))):n.createElement(R,Object.assign({eventRange:a,isStart:i.isStart,isEnd:i.isEnd,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:s===e.eventSelection,defaultDisplayEventEnd:!1},r.getEventRangeMeta(a,e.todayRange))))}))}})}}class w extends r.DateComponent{constructor(){super(...arguments),this.innerElRef=n.createRef(),this.headerWrapElRef=n.createRef()}render(){let{props:e,context:t}=this,{options:i,dateEnv:a}=t;const s=e.showDayNumber&&function(e,t,n){const{start:i,end:a}=t,s=r.addMs(a,-1),l=n.getYear(i),o=n.getMonth(i),d=n.getYear(s),c=n.getMonth(s);return!(l===d&&o===c)&&Boolean(e.valueOf()===i.valueOf()||1===n.getDay(e)&&e.valueOf()<a.valueOf())}(e.date,e.dateProfile.currentRange,a);return n.createElement(r.DayCellContainer,{elTag:"div",elClasses:["fc-daygrid-cell","fc-cell",null!=e.width?"":"fc-liquid","fc-flex-column",...e.extraClassNames||[]],elAttrs:Object.assign(Object.assign({},e.extraDataAttrs),{role:"gridcell"}),elStyle:{width:e.width},extraRenderProps:e.extraRenderProps,defaultGenerator:H,date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,showDayNumber:e.showDayNumber,isMonthStart:s},(a,l)=>n.createElement("div",{ref:this.innerElRef,className:["fc-daygrid-cell-inner",e.fgLiquidHeight?"fc-liquid":""].join(" ")},n.createElement("div",{ref:this.headerWrapElRef,className:"fc-flex-column"},!l.isDisabled&&(e.showDayNumber||r.hasCustomDayCellContent(i))&&n.createElement("div",{className:"fc-daygrid-cell-header"},n.createElement(a,{elTag:"a",elClasses:["fc-daygrid-cell-number",s&&"fc-daygrid-month-start"],elAttrs:r.buildNavLinkAttrs(t,e.date)}))),n.createElement("div",{className:"fc-daygrid-cell-main",style:{height:e.fgLiquidHeight?"":e.fgHeight}},e.fg),n.createElement("div",{className:"fc-daygrid-cell-footer",style:e.fgLiquidHeight?{position:"relative",top:e.fgHeight}:{}},n.createElement(b,{allDayDate:e.date,segs:e.segs,hiddenSegs:e.hiddenSegs,alignmentElRef:this.innerElRef,alignGridTop:!e.showDayNumber,extraDateSpan:e.extraDateSpan,dateProfile:e.dateProfile,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,todayRange:e.todayRange})),e.bg))}componentDidMount(){const e=this.innerElRef.current,t=this.headerWrapElRef.current;this.detachInnerHeight=r.watchHeight(e,e=>{r.setRef(this.props.innerHeightRef,e)}),this.detachHeaderHeight=r.watchHeight(t,e=>{r.setRef(this.props.headerHeightRef,e)})}componentWillUnmount(){this.detachInnerHeight(),this.detachHeaderHeight(),r.setRef(this.props.innerHeightRef,null),r.setRef(this.props.headerHeightRef,null)}}function H(e){return e.dayNumberText||n.createElement(n.Fragment,null," ")}function x(e){return e.eventRange.instance.instanceId+":"+e.firstCol}function C(e){return x(e)+":"+e.lastCol}class D extends r.SegHierarchy{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(e){const t=super.addSegs(e),{entriesByLevel:n}=this,i=e=>!this.forceHidden[r.buildEntryKey(e)];for(let e=0;e<n.length;e+=1)n[e]=n[e].filter(i);return t}handleInvalidInsertion(e,t,n){const{entriesByLevel:i,forceHidden:a}=this,{touchingEntry:s,touchingLevel:l,touchingLateral:o}=e;if(this.hiddenConsumes&&s){const e=r.buildEntryKey(s);if(!a[e])if(this.allowReslicing){const e=Object.assign(Object.assign({},s),{span:r.intersectSpans(s.span,t.span)});a[r.buildEntryKey(e)]=!0,i[l][o]=e,n.push(e),this.splitEntry(s,t,n)}else a[e]=!0,n.push(s)}super.handleInvalidInsertion(e,t,n)}}class M extends n.Component{constructor(){super(...arguments),this.rootElRef=n.createRef()}render(){const{props:e}=this;return n.createElement("div",{className:"fc-abs",style:e.style,ref:this.rootElRef},e.children)}componentDidMount(){const e=this.rootElRef.current;this.detachHeight=r.watchHeight(e,e=>{r.setRef(this.props.heightRef,e)})}componentWillUnmount(){this.detachHeight(),r.setRef(this.props.heightRef,null)}}const W=r.createFormatter({week:"narrow"});class k extends r.BaseComponent{constructor(){super(...arguments),this.cellInnerHeightRefMap=new r.RefMap(()=>{r.afterSize(this.handleInnerHeights)}),this.cellHeaderHeightRefMap=new r.RefMap(()=>{r.afterSize(this.handleHeaderHeights)}),this.segHeightRefMap=new r.RefMap(()=>{r.afterSize(this.handleSegHeights)}),this.handleRootEl=e=>{this.rootEl=e,r.setRef(this.props.rootElRef,e)},this.handleHeaderHeights=()=>{const e=this.cellHeaderHeightRefMap.current;let t=0;for(const r of e.values())t=Math.max(t,r);this.state.headerHeight!==t&&this.setState({headerHeight:t})},this.handleInnerHeights=()=>{const{props:e}=this,t=!0===e.dayMaxEvents||!0===e.dayMaxEventRows,n=this.cellInnerHeightRefMap.current;let i=0;for(const e of n.values())i=Math.max(i,e);t?this.state.innerHeight!==i&&this.setState({innerHeight:i}):r.setRef(e.innerHeightRef,i)},this.handleSegHeights=()=>{this.setState({segHeightRev:this.segHeightRefMap.rev})}}render(){const{props:e,state:t,context:i,cellInnerHeightRefMap:a,cellHeaderHeightRefMap:s}=this,{cells:l}=e,{options:o}=i,d=e.cells[0].date,c=e.cells.length,h=!0===e.dayMaxEvents||!0===e.dayMaxEventRows,g=r.sortEventSegs(e.fgEventSegs,o.eventOrder),f=m(g,c),u=m(e.bgEventSegs,c),p=m(e.businessHourSegs,c),y=m(this.getHighlightSegs(),c),v=m(this.getMirrorSegs(),c),[R,S,E]=function(e,t,r,n,i,a,s,l){const o=r.length,d=[],c=[];for(let e=0;e<o;e++)d.push([]),c.push(0);const h=e.map((e,t)=>({index:t,seg:e,span:{start:e.firstCol,end:e.lastCol+1}}));let g=new D(r=>t.get(C(e[r.index])));g.allowReslicing=!1,g.strictOrder=a,!0===s||!0===l?(g.maxCoord=i,g.hiddenConsumes=!0):"number"==typeof s?g.maxStackCnt=s:"number"==typeof l&&(g.maxStackCnt=l,g.hiddenConsumes=!0);const f=g.addSegs(h),u=g.toRects(),p={};for(const t of u){p[x(e[t.index])]=n+t.levelCoord;let{start:r,end:i}=t.span;for(;r<i;r++)c[r]=Math.max(c[r],t.levelCoord+t.thickness)}for(const t of f){const{span:r}=t,n=e[t.index];for(let e=r.start;e<r.end;e++)d[e].push(n)}return[p,c,d]}(g,this.segHeightRefMap.current,l,t.headerHeight,h&&null!=t.innerHeight&&null!=t.headerHeight?t.innerHeight-t.headerHeight:void 0,o.eventOrderStrict,e.dayMaxEvents,e.dayMaxEventRows),b=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{};return n.createElement("div",{role:e.cellGroup?void 0:"row",className:["fc-daygrid-row",e.forceVSpacing?"fc-daygrid-row-spacious":e.compact?"fc-daygrid-row-compact":"",e.cellGroup?"fc-flex-row":"fc-row","fc-rel",e.className||""].join(" "),style:{minHeight:e.minHeight},ref:this.handleRootEl},e.cells.map((t,r)=>{const i=this.renderFgSegs(f[r],R,e.todayRange,b),l=this.renderFgSegs(v[r],R,e.todayRange,{},Boolean(e.eventDrag),Boolean(e.eventResize),!1);return n.createElement(w,{key:t.key,dateProfile:e.dateProfile,todayRange:e.todayRange,date:t.date,showDayNumber:e.showDayNumbers,segs:f[r],hiddenSegs:E[r],fgLiquidHeight:h,fg:n.createElement(n.Fragment,null,n.createElement(n.Fragment,null,i),n.createElement(n.Fragment,null,l)),bg:n.createElement(n.Fragment,null,this.renderFillSegs(y[r],"highlight"),this.renderFillSegs(p[r],"non-business"),this.renderFillSegs(u[r],"bg-event")),eventDrag:e.eventDrag,eventResize:e.eventResize,eventSelection:e.eventSelection,extraRenderProps:t.extraRenderProps,extraDateSpan:t.extraDateSpan,extraDataAttrs:t.extraDataAttrs,extraClassNames:t.extraClassNames,fgHeight:S[r],width:e.colWidth,innerHeightRef:a.createRef(t.key),headerHeightRef:s.createRef(t.key)})}),e.showWeekNumbers&&n.createElement(r.WeekNumberContainer,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:r.buildNavLinkAttrs(i,d,"week"),date:d,defaultFormat:W}))}renderFgSegs(e,t,i,a,s,l,o){const{props:c,context:h,segHeightRefMap:g}=this,{isRtl:f}=h,{colWidth:u,eventSelection:p}=c,m=c.cells.length,y=1===c.cells.length,E=s||l||o,b=[];for(const c of e){const{left:e,right:h,width:w}=d(c,u,m,f),{eventRange:H}=c,{instanceId:D}=H.instance,W=C(c),k=t[x(c)],N=!c.isStandin&&null!=k&&!a[D];b.push(n.createElement(M,{key:W,style:{visibility:N?"":"hidden",top:k,left:e,right:h,width:w},heightRef:E||c.isStandin?null:g.createRef(W)},v(c)?n.createElement(S,Object.assign({eventRange:H,isStart:c.isStart,isEnd:c.isEnd,isDragging:s,isSelected:D===p,defaultDisplayEventEnd:y},r.getEventRangeMeta(H,i))):n.createElement(R,Object.assign({eventRange:H,isStart:c.isStart,isEnd:c.isEnd,isDragging:s,isResizing:l,isDateSelecting:o,isSelected:D===p,defaultDisplayEventEnd:y},r.getEventRangeMeta(H,i)))))}return b}renderFillSegs(e,t){const{props:i,context:a}=this,{isRtl:s}=a,{todayRange:l,colWidth:o}=i,c=i.cells.length,h=[];for(const i of e){const{left:e,right:a,width:g}=d(i,o,c,s),f=!i.isStandin;h.push(n.createElement("div",{key:r.buildEventRangeKey(i.eventRange),className:"fc-fill-y",style:{visibility:f?"":"hidden",left:e,right:a,width:g}},"bg-event"===t?n.createElement(r.BgEvent,Object.assign({eventRange:i.eventRange,isStart:i.isStart,isEnd:i.isEnd},r.getEventRangeMeta(i.eventRange,l))):r.renderFill(t)))}return n.createElement(n.Fragment,{},...h)}componentDidMount(){const{rootEl:e}=this;this.disconnectHeight=r.watchHeight(e,e=>{r.setRef(this.props.heightRef,e)})}componentWillUnmount(){this.disconnectHeight(),r.setRef(this.props.heightRef,null),r.setRef(this.props.innerHeightRef,null)}getMirrorSegs(){let{props:e}=this;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]}getHighlightSegs(){let{props:e}=this;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs}}class N extends r.DateComponent{constructor(){super(...arguments),this.splitBusinessHourSegs=r.memoize(u),this.splitBgEventSegs=r.memoize(u),this.splitFgEventSegs=r.memoize(u),this.splitDateSelectionSegs=r.memoize(u),this.splitEventDrag=r.memoize(p),this.splitEventResize=r.memoize(p),this.rowHeightRefMap=new r.RefMap((e,t)=>{const{rowHeightRefMap:r}=this.props;r&&r.handleValue(e,t)}),this.handleRootEl=e=>{this.rootEl=e,e?this.context.registerInteractiveComponent(this,{el:e,isHitComboAllowed:this.props.isHitComboAllowed}):this.context.unregisterInteractiveComponent(this)}}render(){let{props:e,state:t,context:i,rowHeightRefMap:a}=this,{options:s}=i,l=e.cellRows.length,o=this.splitFgEventSegs(e.fgEventSegs,l),d=this.splitBgEventSegs(e.bgEventSegs,l),c=this.splitBusinessHourSegs(e.businessHourSegs,l),h=this.splitDateSelectionSegs(e.dateSelectionSegs,l),g=this.splitEventDrag(e.eventDrag,l),f=this.splitEventResize(e.eventResize,l),u=r.getIsHeightAuto(s),p=null!=t.width&&(l>=7||u)?t.width/i.options.aspectRatio/6:null;return n.createElement("div",{className:"fc-grow fc-flex-column",style:{width:e.width},ref:this.handleRootEl},e.cellRows.map((r,i)=>n.createElement(k,{key:r[0].key,dateProfile:e.dateProfile,todayRange:e.todayRange,cells:r,showDayNumbers:l>1,showWeekNumbers:s.weekNumbers,forPrint:e.forPrint,compact:null!=t.width&&t.width/r.length<80,className:u?"":"fc-grow fc-basis0",fgEventSegs:o[i],bgEventSegs:d[i].filter(P),businessHourSegs:c[i],dateSelectionSegs:h[i],eventSelection:e.eventSelection,eventDrag:g[i],eventResize:f[i],dayMaxEvents:s.dayMaxEvents,dayMaxEventRows:s.dayMaxEventRows,colWidth:e.colWidth,minHeight:p,heightRef:a.createRef(r[0].key)})))}componentDidMount(){this.detachWidth=r.watchWidth(this.rootEl,e=>{this.setState({width:e})})}componentWillUnmount(){this.detachWidth()}queryHit(e,t,n){const{props:i,context:a}=this,s=i.cellRows[0].length,{col:l,left:o,right:d}=c(e,n,i.colWidth,s,a.isRtl),{row:f,top:u,bottom:p}=function(e,t,r){let n=0,i=0,a=0;for(const s of t){const t=s[0].key;if(i=a,a=i+r.get(t),e<a)break;n++}return{row:n,top:i,bottom:a}}(t,i.cellRows,this.rowHeightRefMap.current),m=i.cellRows[f][l],y=m.date,v=r.addDays(y,1);return{dateProfile:i.dateProfile,dateSpan:Object.assign({range:{start:y,end:v},allDay:!0},m.extraDateSpan),dayEl:g(h(this.rootEl,f),l),rect:{left:o,right:d,top:u,bottom:p},layer:0}}}function P(e){return e.eventRange.def.allDay}class z extends r.BaseComponent{render(){const{props:e}=this;return n.createElement("div",{role:e.cellGroup?void 0:"row",className:[e.cellGroup?"fc-flex-row":"fc-row",e.className||""].join(" ")},e.cells.map(t=>n.createElement(n.Fragment,{key:e.getHeaderModelKey(t)},e.renderHeaderContent(t,e.tierNum,void 0,e.colWidth))))}}function T(e){return n.createElement("div",{className:["fc-rowgroup","fc-content-box",...e.extraClassNames||[]].join(" "),style:{width:e.width,paddingLeft:e.paddingLeft,paddingRight:e.paddingRight}},e.headerTiers.map((t,r)=>n.createElement(z,{key:r,tierNum:r,cells:t,renderHeaderContent:e.renderHeaderContent,getHeaderModelKey:e.getHeaderModelKey,colWidth:e.colWidth})))}class F extends r.BaseComponent{constructor(){super(...arguments),this.handleScroller=e=>{r.setRef(this.props.scrollerRef,e)},this.handleLeftScrollbarWidth=e=>{this.setState({leftScrollbarWidth:e})},this.handleRightScrollbarWidth=e=>{this.setState({rightScrollbarWidth:e})}}render(){const{props:e,state:t,context:i}=this,{options:a}=i,s=!e.forPrint&&!r.getIsHeightAuto(a),l=!e.forPrint&&r.getStickyHeaderDates(a);return n.createElement(n.Fragment,null,a.dayHeaders&&n.createElement(T,{headerTiers:e.headerTiers,renderHeaderContent:e.renderHeaderContent,getHeaderModelKey:e.getHeaderModelKey,extraClassNames:["fc-daygrid-header",l?"fc-sticky-header":""],paddingLeft:t.leftScrollbarWidth,paddingRight:t.rightScrollbarWidth}),n.createElement(r.Scroller,{vertical:s,leftScrollbarWidthRef:this.handleLeftScrollbarWidth,rightScrollbarWidthRef:this.handleRightScrollbarWidth,elClassNames:["fc-daygrid-body","fc-rowgroup","fc-flex-column",s?"fc-liquid":""],ref:this.handleScroller},n.createElement(N,{dateProfile:e.dateProfile,todayRange:e.todayRange,cellRows:e.cellRows,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed,fgEventSegs:e.fgEventSegs,bgEventSegs:e.bgEventSegs,businessHourSegs:e.businessHourSegs,dateSelectionSegs:e.dateSelectionSegs,eventDrag:e.eventDrag,eventResize:e.eventResize,eventSelection:e.eventSelection,rowHeightRefMap:e.rowHeightRefMap})))}}class O extends r.BaseComponent{constructor(){super(...arguments),this.headerScrollerRef=n.createRef(),this.bodyScrollerRef=n.createRef(),this.footerScrollerRef=n.createRef(),this.handleWidth=e=>{this.setState({width:e})},this.handleLeftScrollbarWidth=e=>{this.setState({leftScrollbarWidth:e})},this.handleRightScrollbarWidth=e=>{this.setState({rightScrollbarWidth:e})}}render(){const{props:e,state:t,context:i}=this,{options:a}=i,s=!e.forPrint&&!r.getIsHeightAuto(a),o=!e.forPrint&&r.getStickyHeaderDates(a),d=!e.forPrint&&r.getStickyFooterScrollbar(a),c=e.cellRows[0].length,[h,g]=l(c,e.dayMinWidth,t.width);return n.createElement(n.Fragment,null,a.dayHeaders&&n.createElement(r.Scroller,{horizontal:!0,hideScrollbars:!0,elClassNames:["fc-daygrid-header","fc-rowgroup",o?"fc-sticky-header":""],ref:this.headerScrollerRef},n.createElement(T,{headerTiers:e.headerTiers,renderHeaderContent:e.renderHeaderContent,getHeaderModelKey:e.getHeaderModelKey,colWidth:g,width:h,paddingLeft:t.leftScrollbarWidth,paddingRight:t.rightScrollbarWidth})),n.createElement(r.Scroller,{vertical:s,horizontal:!0,hideScrollbars:d,widthRef:this.handleWidth,leftScrollbarWidthRef:this.handleLeftScrollbarWidth,rightScrollbarWidthRef:this.handleRightScrollbarWidth,elClassNames:["fc-daygrid-body","fc-rowgroup","fc-flex-column",s?"fc-liquid":""],ref:this.bodyScrollerRef},n.createElement(N,{dateProfile:e.dateProfile,todayRange:e.todayRange,cellRows:e.cellRows,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed,fgEventSegs:e.fgEventSegs,bgEventSegs:e.bgEventSegs,businessHourSegs:e.businessHourSegs,dateSelectionSegs:e.dateSelectionSegs,eventDrag:e.eventDrag,eventResize:e.eventResize,eventSelection:e.eventSelection,colWidth:g,width:h,rowHeightRefMap:e.rowHeightRefMap})),Boolean(d)&&n.createElement(r.Scroller,{ref:this.footerScrollerRef,horizontal:!0,elClassNames:["fc-sticky-footer"],elStyle:{marginTop:"-1px"}},n.createElement("div",{style:{width:h,height:"1px"}})))}componentDidMount(){const e=r.getScrollerSyncerClass(this.context.pluginHooks);this.syncedScroller=new e(!0),r.setRef(this.props.scrollerRef,this.syncedScroller),this.updateSyncedScroller()}componentDidUpdate(){this.updateSyncedScroller()}componentWillUnmount(){this.syncedScroller.destroy()}updateSyncedScroller(){this.syncedScroller.handleChildren([this.headerScrollerRef.current,this.bodyScrollerRef.current,this.footerScrollerRef.current])}}class I extends r.BaseComponent{constructor(){super(...arguments),this.scrollerRef=n.createRef(),this.rowHeightRefMap=new r.RefMap(()=>{r.afterSize(this.updateScrollY)}),this.scrollDate=null,this.updateScrollY=()=>{const e=this.rowHeightRefMap.current,t=this.scrollerRef.current;if(t&&this.scrollDate){let r=function(e,t,r,n=0){let i=0;for(const a of t){const t=a[0].date,s=a[a.length-1].date,l=t.toISOString();if(e>=t&&e<=s)return i;const o=r.get(l);if(null==o)return;i+=o+n}return i}(this.scrollDate,this.props.cellRows,e,1);null!=r&&(r&&r++,t.scrollTo({y:r}))}},this.clearScroll=()=>{this.scrollDate=null}}render(){const{props:e,context:t}=this,{options:i}=t,a=Object.assign(Object.assign({},e),{scrollerRef:this.scrollerRef,rowHeightRefMap:this.rowHeightRefMap});return n.createElement(r.ViewContainer,{viewSpec:t.viewSpec,elClasses:[e.className,"fc-flex-column","fc-border"]},i.dayMinWidth?n.createElement(O,Object.assign({},a,{dayMinWidth:i.dayMinWidth})):n.createElement(F,Object.assign({},a)))}componentDidMount(){this.resetScroll(),this.scrollerRef.current.addScrollEndListener(this.clearScroll)}componentDidUpdate(e){e.dateProfile!==this.props.dateProfile&&this.context.options.scrollTimeReset&&this.resetScroll()}componentWillUnmount(){this.scrollerRef.current.removeScrollEndListener(this.clearScroll)}resetScroll(){this.scrollDate=this.props.dateProfile.currentDate,this.updateScrollY();this.scrollerRef.current.scrollTo({x:0})}}const j=r.createFormatter({weekday:"long"});class G extends r.BaseComponent{constructor(){super(...arguments),this.innerElRef=n.createRef()}render(){let{props:e,context:t}=this,{dateEnv:i,theme:s,viewApi:l,options:o}=t,d=r.addDays(new Date(2592e5),e.dow),c={dow:e.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},h=i.format(d,e.dayHeaderFormat),g=Object.assign(Object.assign(Object.assign(Object.assign({date:d},c),{view:l}),e.extraRenderProps),{text:h});return n.createElement(r.ContentContainer,{elTag:"div",elClasses:[...r.getDayClassNames(c,s),...e.extraClassNames||[],"fc-header-cell","fc-cell",null!=e.colWidth?"":"fc-liquid","fc-flex-column","fc-align-center"],elAttrs:e.extraDataAttrs,elStyle:{width:null!=e.colWidth?e.colWidth*(e.colSpan||1):void 0},renderProps:g,generatorName:"dayHeaderContent",customGenerator:o.dayHeaderContent,defaultGenerator:a,classNameGenerator:o.dayHeaderClassNames,didMount:o.dayHeaderDidMount,willUnmount:o.dayHeaderWillUnmount},t=>n.createElement("div",{ref:this.innerElRef,className:["fc-flex-column",e.isSticky?"fc-sticky-x":""].join(" ")},n.createElement(t,{elTag:"a",elClasses:["fc-cell-inner","fc-padding-sm"],elAttrs:{"aria-label":i.format(d,j)}})))}componentDidMount(){const e=this.innerElRef.current;this.disconectInnerHeight=r.watchHeight(e,e=>{r.setRef(this.props.innerHeightRef,e)})}componentWillUnmount(){this.disconectInnerHeight(),r.setRef(this.props.innerHeightRef,null)}}function A(e,t,n){return e||function(e,t){if(!e||t>10)return r.createFormatter({weekday:"short"});if(t>1)return r.createFormatter({weekday:"short",month:"numeric",day:"numeric",omitCommas:!0});return r.createFormatter({weekday:"long"})}(t,n)}class L extends r.BaseComponent{constructor(){super(...arguments),this.buildDayTableModel=r.memoize(s),this.buildHeaderTiers=r.memoize(o),this.createDayHeaderFormatter=r.memoize(A),this.slicer=new i}render(){const{props:e,context:t}=this,{options:i}=t,a=this.buildDayTableModel(e.dateProfile,t.dateProfileGenerator),s=1===a.rowCnt,l=this.buildHeaderTiers(a.headerDates,s),o=this.slicer.sliceProps(e,e.dateProfile,i.nextDayThreshold,t,a),d=this.createDayHeaderFormatter(t.options.dayHeaderFormat,s,a.colCnt);return n.createElement(r.NowTimer,{unit:"day"},(t,r)=>n.createElement(I,{dateProfile:e.dateProfile,todayRange:r,cellRows:a.cellRows,forPrint:e.forPrint,className:"fc-daygrid-view",headerTiers:l,renderHeaderContent:(t,i,s,l)=>t.date?n.createElement(f,Object.assign({},t,{dateProfile:e.dateProfile,todayRange:r,navLink:a.colCnt>1,dayHeaderFormat:d,colSpan:t.colSpan,colWidth:l})):n.createElement(G,Object.assign({},t,{dayHeaderFormat:d,colSpan:t.colSpan,colWidth:l})),getHeaderModelKey:e=>e.date?e.date.toUTCString():e.dow,fgEventSegs:o.fgEventSegs,bgEventSegs:o.bgEventSegs,businessHourSegs:o.businessHourSegs,dateSelectionSegs:o.dateSelectionSegs,eventDrag:o.eventDrag,eventResize:o.eventResize,eventSelection:o.eventSelection}))}}class B extends r.DateProfileGenerator{buildRenderRange(e,t,r){let n=super.buildRenderRange(e,t,r),{props:i}=this;return U({currentRange:n,snapToWeek:/^(year|month)$/.test(t),fixedWeekCount:i.fixedWeekCount,dateEnv:i.dateEnv})}}function U(e){let t,{dateEnv:n,currentRange:i}=e,{start:a,end:s}=i;if(e.snapToWeek&&(a=n.startOfWeek(a),t=n.startOfWeek(s),t.valueOf()!==s.valueOf()&&(s=r.addWeeks(t,1))),e.fixedWeekCount){let e=n.startOfWeek(n.startOfMonth(r.addDays(i.end,-1))),t=Math.ceil(r.diffWeeks(e,s));s=r.addWeeks(s,6-t)}return{start:a,end:s}}r.injectStyles(":root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc-daygrid-cell.fc-day-today{background-color:var(--fc-today-bg-color)}.fc-daygrid-row-spacious .fc-daygrid-cell-inner{min-height:3em}.fc-daygrid-cell-header{display:flex;flex-direction:row-reverse}.fc-day-other .fc-daygrid-cell-header{opacity:.3}.fc-daygrid-cell-number{padding:4px;position:relative;z-index:4}.fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc-daygrid-cell-footer{align-items:flex-start;display:flex;flex-direction:column;font-size:.85em;margin:0 2px}.fc-daygrid-row-spacious .fc-daygrid-cell-footer{margin-bottom:1em!important}.fc-daygrid-row-compact .fc-daygrid-cell-footer{align-items:stretch}.fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc-daygrid-row-compact .fc-daygrid-more-link{border:1px solid var(--fc-event-border-color);padding:1px}.fc-daygrid-cell .fc-non-business{z-index:1}.fc-daygrid-cell .fc-bg-event{z-index:2}.fc-daygrid-cell .fc-highlight{z-index:3}.fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);margin-top:1px;z-index:6}.fc-daygrid-event.fc-event-mirror{z-index:7}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;direction:row;display:flex;padding:2px 0;position:relative}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-daygrid-dot-event .fc-event-time,.fc-daygrid-dot-event .fc-event-title{overflow:hidden;white-space:nowrap}.fc-daygrid-dot-event .fc-event-title{flex-basis:0;flex-grow:1;font-weight:700;min-width:0}");var K=t.createPlugin({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:L,dateProfileGeneratorClass:B},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});class q extends r.BaseComponent{constructor(){super(...arguments),this.innerHeightRefMap=new r.RefMap(()=>{r.afterSize(this.handleInnerHeights)}),this.handleInnerHeights=()=>{const e=this.innerHeightRefMap.current;let t=0;for(const r of e.values())t=Math.max(t,r);this.currentInnerHeight!==t&&(this.currentInnerHeight=t,r.setRef(this.props.innerHeightRef,t))}}render(){const{props:e}=this;return n.createElement("div",{role:"row",className:"fc-row",style:{height:e.height}},e.cells.map(t=>{const r=e.getHeaderModelKey(t);return n.createElement(n.Fragment,{key:e.getHeaderModelKey(t)},e.renderHeaderContent(t,e.tierNum,this.innerHeightRefMap.createRef(r),e.colWidth))}))}}var _={__proto__:null,DayTableSlicer:i,TableDateProfileGenerator:B,buildDayTableRenderRange:U,DayGridView:L,DateHeaderCell:f,DayOfWeekHeaderCell:G,HeaderRow:z,HeaderRowAdvanced:q,createDayHeaderFormatter:A,DayGridLayout:I,DayGridRow:k,COMPACT_CELL_WIDTH:80,DayGridRows:N,buildDayTableModel:s,computeColWidth:l,computeColFromPosition:c,getRowEl:h,getCellEl:g};return t.globalPlugins.push(K),e.Internal=_,e.default=K,Object.defineProperty(e,"__esModule",{value:!0}),e}({},FullCalendar,FullCalendar.Internal,FullCalendar.Preact);