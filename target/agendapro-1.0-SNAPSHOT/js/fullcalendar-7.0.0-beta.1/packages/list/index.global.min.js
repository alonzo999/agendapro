/*!
FullCalendar List View Plugin v7.0.0-beta.1
Docs & License: https://fullcalendar.io/docs/list-view
(c) 2024 Adam Shaw
*/
FullCalendar.List=function(e,t,n,a){"use strict";class r extends n.BaseComponent{constructor(){super(...arguments),this.state={textId:n.getUniqueDomId()}}render(){let{theme:e,dateEnv:t,options:r,viewApi:i}=this.context,{cellId:l,dayDate:o,todayRange:d}=this.props,{textId:c}=this.state,u=!this.props.forPrint&&n.getStickyHeaderDates(r),m=n.getDateMeta(o,d),g=r.listDayFormat?t.format(o,r.listDayFormat):"",f=r.listDaySideFormat?t.format(o,r.listDaySideFormat):"",v=Object.assign({date:t.toDate(o),view:i,textId:c,text:g,sideText:f,navLinkAttrs:n.buildNavLinkAttrs(this.context,o),sideNavLinkAttrs:n.buildNavLinkAttrs(this.context,o,"day",!1)},m);return a.createElement(n.ContentContainer,{elTag:"tr",elClasses:["fc-list-day",...n.getDayClassNames(m,e)],elAttrs:{"data-date":n.formatDayString(o)},renderProps:v,generatorName:"dayHeaderContent",customGenerator:r.dayHeaderContent,defaultGenerator:s,classNameGenerator:r.dayHeaderClassNames,didMount:r.dayHeaderDidMount,willUnmount:r.dayHeaderWillUnmount},e=>a.createElement(e,{elTag:"th",elAttrs:{id:l,colSpan:3,"aria-labelledby":c},elClasses:["fc-list-day-cell",u?"fc-list-day-cell-sticky":""]}))}}function s(e){return a.createElement("div",{className:"fc-list-day-inner"},e.text&&a.createElement("a",Object.assign({id:e.textId,className:"fc-list-day-text"},e.navLinkAttrs),e.text),e.sideText&&a.createElement("a",Object.assign({"aria-hidden":!0,className:"fc-list-day-side-text"},e.sideNavLinkAttrs),e.sideText))}const i=n.createFormatter({hour:"numeric",minute:"2-digit",meridiem:"short"});class l extends n.BaseComponent{render(){let{props:e,context:t}=this,{options:r}=t,{eventRange:s,timeHeaderId:l,eventHeaderId:d,dateHeaderId:c}=e,u=r.eventTimeFormat||i;return a.createElement(n.EventContainer,Object.assign({},e,{elTag:"tr",elClasses:["fc-list-event",s.def.url&&"fc-event-forced-url"],defaultGenerator:()=>function(e,t){let r=n.getEventRangeAnchorAttrs(e,t);return a.createElement("a",Object.assign({},r),e.def.title)}(s,t),eventRange:s,timeText:"",disableDragging:!0,disableResizing:!0}),(r,i)=>a.createElement(a.Fragment,null,function(e,t,r,s,i,l,d,c,u){let{options:m}=d;if(!1!==m.displayEventTime){let g,f=e.def,v=e.instance,y=!1;if(f.allDay?y=!0:n.isMultiDayRange(e.range)?t?g=n.buildEventRangeTimeText(e,l,d,null,null,v.range.start,i):r?g=n.buildEventRangeTimeText(e,l,d,null,null,s,v.range.end):y=!0:g=n.buildEventRangeTimeText(e,l,d,null,null,s,i),y){let e={text:d.options.allDayText,view:d.viewApi};return a.createElement(n.ContentContainer,{elTag:"td",elClasses:["fc-list-event-time"],elAttrs:{headers:`${c} ${u}`},renderProps:e,generatorName:"allDayContent",customGenerator:m.allDayContent,defaultGenerator:o,classNameGenerator:m.allDayClassNames,didMount:m.allDayDidMount,willUnmount:m.allDayWillUnmount})}return a.createElement("td",{className:"fc-list-event-time"},g)}return null}(s,e.isStart,e.isEnd,e.segStart,e.segEnd,u,t,l,c),a.createElement("td",{"aria-hidden":!0,className:"fc-list-event-dot-cell"},a.createElement("span",{className:"fc-list-event-dot",style:{borderColor:i.borderColor||i.backgroundColor}})),a.createElement(r,{elTag:"td",elClasses:["fc-list-event-title"],elAttrs:{headers:`${d} ${c}`}})))}}function o(e){return e.text}class d extends n.DateComponent{constructor(){super(...arguments),this.computeDateVars=n.memoize(u),this.eventStoreToSegs=n.memoize(this._eventStoreToSegs),this.state={timeHeaderId:n.getUniqueDomId(),eventHeaderId:n.getUniqueDomId(),dateHeaderIdRoot:n.getUniqueDomId()},this.setRootEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e}):this.context.unregisterInteractiveComponent(this)}}render(){let{props:e,context:t}=this,{options:r}=t,{dayDates:s,dayRanges:i}=this.computeDateVars(e.dateProfile),l=this.eventStoreToSegs(e.eventStore,e.eventUiBases,i),o=!e.forPrint&&!n.getIsHeightAuto(r);return a.createElement(n.ViewContainer,{elRef:this.setRootEl,elClasses:["fc-list-view","fc-flex-column","fc-border"],viewSpec:t.viewSpec},a.createElement(n.Scroller,{vertical:o,elClassNames:[o?"fc-liquid":""]},l.length>0?this.renderSegList(l,s):this.renderEmptyMessage()))}renderEmptyMessage(){let{options:e,viewApi:t}=this.context,r={text:e.noEventsText,view:t};return a.createElement(n.ContentContainer,{elTag:"div",elClasses:["fc-list-empty"],renderProps:r,generatorName:"noEventsContent",customGenerator:e.noEventsContent,defaultGenerator:c,classNameGenerator:e.noEventsClassNames,didMount:e.noEventsDidMount,willUnmount:e.noEventsWillUnmount},e=>a.createElement(e,{elTag:"div",elClasses:["fc-list-empty-inner"]}))}renderSegList(e,t){let{options:s}=this.context,{timeHeaderId:i,eventHeaderId:o,dateHeaderIdRoot:d}=this.state,c=function(e){let t,n,a=[];for(t=0;t<e.length;t+=1)n=e[t],(a[n.dayIndex]||(a[n.dayIndex]=[])).push(n);return a}(e);return a.createElement(n.NowTimer,{unit:"day"},(e,u)=>{let m=[];for(let g=0;g<c.length;g+=1){let f=c[g];if(f){let c=n.formatDayString(t[g]),v=d+"-"+c;m.push(a.createElement(r,{key:c,forPrint:this.props.forPrint,cellId:v,dayDate:t[g],todayRange:u})),f=n.sortEventSegs(f,s.eventOrder);for(let t of f)m.push(a.createElement(l,Object.assign({key:c+":"+t.eventRange.instance.instanceId,eventRange:t.eventRange,isStart:t.isStart,isEnd:t.isEnd,segStart:t.start,segEnd:t.end,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,timeHeaderId:i,eventHeaderId:o,dateHeaderId:v},n.getEventRangeMeta(t.eventRange,u,e))))}}return a.createElement("table",{className:"fc-table"},a.createElement("thead",{className:"fc-offscreen"},a.createElement("tr",null,a.createElement("th",{scope:"col",id:i},s.timeHint),a.createElement("th",{scope:"col","aria-hidden":!0}),a.createElement("th",{scope:"col",id:o},s.eventHint))),a.createElement("tbody",null,m))})}_eventStoreToSegs(e,t,a){return this.eventRangesToSegs(n.sliceEventStore(e,t,this.props.dateProfile.activeRange,this.context.options.nextDayThreshold).fg,a)}eventRangesToSegs(e,t){let n=[];for(let a of e)n.push(...this.eventRangeToSegs(a,t));return n}eventRangeToSegs(e,t){let a,r,s,{dateEnv:i}=this.context,{nextDayThreshold:l}=this.context.options,o=e.range,d=e.def.allDay,c=[];for(a=0;a<t.length;a+=1)if(r=n.intersectRanges(o,t[a]),r&&(s={eventRange:e,start:r.start,end:r.end,isStart:e.isStart&&r.start.valueOf()===o.start.valueOf(),isEnd:e.isEnd&&r.end.valueOf()===o.end.valueOf(),dayIndex:a},c.push(s),!s.isEnd&&!d&&a+1<t.length&&o.end<i.add(t[a+1].start,l))){s.end=o.end,s.isEnd=!0;break}return c}}function c(e){return e.text}function u(e){let t=n.startOfDay(e.renderRange.start),a=e.renderRange.end,r=[],s=[];for(;t<a;)r.push(t),s.push({start:t,end:n.addDays(t,1)}),t=n.addDays(t,1);return{dayDates:r,dayRanges:s}}const m={listDayFormat:g,listDaySideFormat:g,noEventsClassNames:n.identity,noEventsContent:n.identity,noEventsDidMount:n.identity,noEventsWillUnmount:n.identity};function g(e){return!1===e?null:n.createFormatter(e)}n.injectStyles(":root{--fc-list-event-dot-width:10px;--fc-list-event-hover-bg-color:#f5f5f5}.fc-table{border-spacing:0;width:100%}.fc-table>*>*>*{border-color:var(--fc-border-color);border-style:solid;border-width:0 0 1px;padding:0}.fc-table>:last-child>:last-child>*{border-bottom-width:0}.fc-list-day-inner,.fc-list-event-dot-cell,.fc-list-event-time,.fc-list-event-title{padding:8px 14px}.fc-direction-ltr .fc-list-event-dot-cell{padding-right:0}.fc-direction-rtl .fc-list-event-dot-cell{padding-left:0}.fc-list-empty{align-items:center;background-color:var(--fc-neutral-bg-color);display:flex;height:100%;justify-content:center}.fc-list-empty-inner{margin:5em 0}.fc-list-day-cell-sticky{background:var(--fc-page-bg-color);position:sticky;top:0}.fc-list-day-inner{background:var(--fc-neutral-bg-color);display:flex;justify-content:space-between}.fc-list-event.fc-event-forced-url{cursor:pointer}.fc-list-event:hover td{background-color:var(--fc-list-event-hover-bg-color)}.fc-list-event-dot-cell,.fc-list-event-time{white-space:nowrap;width:1px}.fc-list-event-dot{border:calc(var(--fc-list-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-list-event-dot-width)/2);box-sizing:content-box;display:inline-block;height:0;width:0}.fc-list-event-title a{color:inherit;text-decoration:none}.fc-list-event.fc-event-forced-url:hover a{text-decoration:underline}");var f=t.createPlugin({name:"@fullcalendar/list",optionRefiners:m,views:{list:{component:d,buttonTextKey:"list",listDayFormat:{month:"long",day:"numeric",year:"numeric"}},listDay:{type:"list",duration:{days:1},listDayFormat:{weekday:"long"}},listWeek:{type:"list",duration:{weeks:1},listDayFormat:{weekday:"long"},listDaySideFormat:{month:"long",day:"numeric",year:"numeric"}},listMonth:{type:"list",duration:{month:1},listDaySideFormat:{weekday:"long"}},listYear:{type:"list",duration:{year:1},listDaySideFormat:{weekday:"long"}}}}),v={__proto__:null,ListView:d};return t.globalPlugins.push(f),e.Internal=v,e.default=f,Object.defineProperty(e,"__esModule",{value:!0}),e}({},FullCalendar,FullCalendar.Internal,FullCalendar.Preact);